# 2022 å¹´äº†,ä½ æ€»ä¸èƒ½è¿˜åªä¼š `npm i` å§?

> åœ¨é”®å¸½ä¸å­—ç¬¦ä¸Šæ¨ªè·³ï¼Œäºä»£ç å’Œç¨‹åºä¸­ç©¿æ¢­ã€‚ä¸€èµ·é¢å‘å¿«ä¹ç¼–ç¨‹ï¼

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯è£é¡¶ï¼Œé©¬ä¸Šé‡‘ä¸‰é“¶å››å•¦ ~ è¿™æ¬¡ç»™å¤§å®¶å¸¦æ¥ä¸€ç¯‡ npm å‘½ä»¤ç›¸å…³çš„æ–‡ç« ã€‚ç›®çš„åœ¨äºæŸ¥ç¼ºè¡¥æ¼ã€‚

npm ä½œä¸º node åŒ…ç®¡ç†å™¨ï¼Œå†…ç½®äº†éå¸¸å¤šçš„å‘½ä»¤ä¾›æˆ‘ä»¬æ—¥å¸¸å¼€å‘ä½¿ç”¨ï¼Œè®°ä½ä»¥ä¸‹åˆ—å‡ºçš„å‘½ä»¤å°†ä¼šç»™æ—¥å¸¸å¼€å‘å¸¦æ¥éå¸¸å¤§çš„ä¾¿åˆ©æ€§ã€‚

å¥½äº†ï¼Œè¯ä¸å¤šè¯´ï¼Œçœ‹ä»£ç  ğŸ‘‡

## ç»™å–œæ¬¢çš„åŒ…åŠ æ˜Ÿ(ç±»ä¼¼ github çš„ star)

å…¶å®æˆ‘æŠŠåŠ æ˜Ÿå°±å½“ä½œæ˜¯æ”¶è—çš„æ“ä½œï¼Œå…¶å®åœ¨ npm ä¸­å®ƒå°±æ˜¯æ”¶è—çš„ä½œç”¨ï¼Œå› ä¸ºåœ¨å®˜ç½‘ä¸­ï¼Œæˆ‘ä»¬å¹¶ä¸èƒ½åƒ github ä¸€æ ·æ¸…æ¥šçš„çœ‹åˆ°è¿™ä¸ªä»“åº“æœ‰å¤šå°‘é¢— starã€‚

```sh
npm star [package-name]
```

å–æ¶ˆæ”¶è—

```sh
npm unstar [package-name]
```

![](https://raw.githubusercontent.com/wangrongding/image-house/master/images202202281808637.png)

æŸ¥çœ‹æ”¶è—åˆ—è¡¨

```sh
npm stars
```

![](https://raw.githubusercontent.com/wangrongding/image-house/master/images202202281624969.png)

è¿™äº›æ“ä½œéƒ½ä¼šæŠ¥é”™åœ¨ä½ çš„è´¦å·ä¸‹ï¼Œæ‰€ä»¥å¾ˆæ–¹ä¾¿ã€‚ä¸ç”¨æ‹…å¿ƒæœ¬æœºæ“ä½œåå…¶ä»–åœ°æ–¹çœ‹ä¸åˆ°ã€‚ä½ åªéœ€è¦æœ‰ä¸€ä¸ª npm è´¦æˆ·å°±å¯ä»¥äº†ï¼Œè¿˜æ²¡æœ‰çš„è¯ï¼Œå¯ä»¥çœ‹æœ¬æ–‡ç¬¬äºŒèŠ‚ ğŸ‘‡ ï¼Œæ³¨å†Œä¸€ä¸ªå¹¶ç™»å½•å§ã€‚

## ç™»å½• npm

é¦–å…ˆä½ è¦æœ‰ä¸€ä¸ª npm çš„è´¦å·ï¼Œæ²¡æœ‰çš„åœ¨[ğŸ‘‰npm å®˜ç½‘](https://www.npmjs.com/signup)æ³¨å†Œä¸€ä¸ªå°±è¡Œäº†ã€‚

> **æ³¨æ„:åœ¨å®˜ç½‘æ³¨å†Œçš„è´¦å·ï¼Œç™»é™†æ—¶ä½¿ç”¨æ·˜å®æºä¼šæŠ¥é”™ï¼Œè¦æ”¹å›é»˜è®¤æº**

æ¨èä½¿ç”¨ nrm æˆ–è€… yrm æ¥å¿«é€Ÿåˆ‡æ¢é•œåƒæº,ä¸ªäººæ¨èä½¿ç”¨ yrm,ä¸ºä»€ä¹ˆå‘¢?çœ‹ä¸‹å›¾

![nrm](https://raw.githubusercontent.com/wangrongding/image-house/master/images202202241454077.png)

yrm ä¼šåŒæ—¶å°†ä½ çš„ npm å’Œ yarn ä¸€èµ·åˆ‡æ¢,å¹¶ä¸” ls åä¼šæœ‰\*å·æ ‡æ³¨å½“å‰æ­£åœ¨ä½¿ç”¨çš„æº,è®°å¾— nrm ä»¥å‰ä¹Ÿæœ‰çš„,ç°åœ¨ä¸çŸ¥é“æ€ä¹ˆäº†...

![yrm](https://raw.githubusercontent.com/wangrongding/image-house/master/images202202241455991.png)

å½“ç„¶ä½ å¯ä»¥æ‰‹åŠ¨ npm åˆ‡æ¢ä¸ºé»˜è®¤æº

```sh
npm config set registry https://registry.npmjs.org
```

ç„¶åæ‰§è¡Œå‘½ä»¤`npm login`,ä¾æ¬¡å¡«å†™ç”¨æˆ·åã€å¯†ç ã€é‚®ç®±å³å¯ã€‚å¦‚æœä½ åœ¨ npmjs ç«™ç‚¹è¿˜è®¾ç½®äº†å…¶ä»–ä¿æŠ¤ï¼Œå°±è¿˜éœ€è¦è¾“å…¥ä¸€äº›éªŒè¯ç ä¹‹ç±»çš„ç­‰ç­‰...

![](https://raw.githubusercontent.com/wangrongding/image-house/master/images202202241516225.png)

```sh
npm adduser
# or
npm login
# loginæ˜¯adduserçš„ä¸€ä¸ªåˆ«å
```

![](https://raw.githubusercontent.com/wangrongding/image-house/master/images202202281610211.png)

ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å½“å‰ npm çš„ç™»é™†äºº

```sh
npm whoami
```

## æŸ¥çœ‹æŸä¸ªåŒ…çš„æ–‡æ¡£

æ¯æ¬¡æˆ‘ä»¬æƒ³åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€æŸä¸ªåŒ…çš„æ–‡æ¡£ï¼Œæ€»ä¹ æƒ¯å»æœç´¢å¼•æ“æœç´¢ï¼Œå…¶å®ä¸€è¡Œå‘½ä»¤å°±èƒ½è§£å†³çš„äº‹æƒ…,ä¸è¦å†å»ç™¾åº¦æœç´¢å•¦~

```sh
# æ­¤å‘½ä»¤ä¼šå°è¯•çŒœæµ‹åŒ…æ–‡æ¡£ URL çš„å¯èƒ½ä½ç½®ï¼Œä¸€èˆ¬æ²¡æœ‰è‡ªå®šä¹‰çš„è¯ï¼Œå°±ä¼šæ‰“å¼€åŒ…çš„githubåœ°å€ã€‚
npm docs [package-name]
# or
npm home [package-name]
```

![](https://raw.githubusercontent.com/wangrongding/image-house/master/images202202281655234.gif)
å°è¯•ä»¥ä¸‹å‘½ä»¤ï¼Œå¯ä»¥å¿«é€Ÿæ‰“å¼€ lodash çš„å®˜æ–¹æ–‡æ¡£ ğŸ‘‡

```sh
npm docs lodash
# or
npm home lodash
```

`npm docs`æˆ–è€…`npm home`å‘½ä»¤åœ¨ä¸æ¥å‚æ•°æ—¶ï¼Œä¼šåœ¨å½“å‰é¡¹ç›®ä¸­ï¼Œé€šè¿‡ `package.json` æ–‡ä»¶ä¸­çš„`homepage`é…ç½®ï¼Œæ¥æ‰“å¼€å¯¹åº”çš„åœ°å€ã€‚

![](https://raw.githubusercontent.com/wangrongding/image-house/master/images202202272332350.jpg)  
å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå…¶åŸç†å°±æ˜¯ï¼šå½“ä½ è¦æŸ¥çœ‹çš„é¡¹ç›®ä¸­çš„ `package.json` æ–‡ä»¶ä¸­ï¼Œè®¾ç½®äº†`homepage`å±æ€§ï¼Œé€šè¿‡`npm docs/home`å°±èƒ½æ‰“å¼€å¯¹åº”çš„ä¸»é¡µï¼Œæ²¡æœ‰è®¾ç½®`homepage`å±æ€§æ—¶ï¼Œnpm ä¼šç»§ç»­å¯»æ‰¾å…¶ä¸­çš„`repository`å±æ€§ï¼Œè¿™æ—¶å€™æ‰“å¼€çš„å°±æ˜¯é¡¹ç›®åœ¨ github ä¸­çš„æ‰˜ç®¡åœ°å€ url æ‹¼æ¥â€œ#readmeâ€ (ä¾‹å¦‚ï¼š https://github.com/ç”¨æˆ·å/ä»“åº“å#readme)ï¼Œå¦‚æœä½ `repository`å±æ€§ä¹Ÿæ²¡è®¾ç½®ï¼Œé‚£ä¹ˆå°±ä¼šæ‰“å¼€ npm å®˜ç½‘ä¸­åŒ…çš„æ‰€åœ¨åœ°å€ï¼Œï¼ˆä¾‹å¦‚ï¼šhttps://www.npmjs.com/package/npm-limitï¼‰

å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨`npm docs/home`åä¸æ¥å‚æ•°ï¼Œè¿™æ ·å°±ä¼šç›´æ¥æ‰“å¼€å½“å‰é¡¹ç›®çš„ä¸»é¡µã€‚

## æŸ¥çœ‹æŸä¸ªåŒ…çš„ä»£ç ä»“åº“

æƒ³çœ‹æŸä¸ªåŒ…çš„æºç ?è¿˜è¦è·‘åˆ° github å»æœç´¢?nonono,ä¹Ÿæ˜¯ä¸€è¡Œä»£ç ã€‚

```sh
# æ­¤å‘½ä»¤å°è¯•çŒœæµ‹åŒ…çš„å­˜å‚¨åº“ URL çš„å¯èƒ½ä½ç½®
npm repo [package-name]
```

ğŸ‘† å®ƒæ˜¯æ ¹æ®é¡¹ç›®ä¸­çš„ `package.json` æ–‡ä»¶ä¸­ï¼Œè®¾ç½®çš„`repository`å±æ€§ï¼Œæ¥æ‰“å¼€å¯¹åº”çš„ urlã€‚

## å¿«é€Ÿç»™ä¸€ä¸ªåŒ…æ issues

```sh
npm bugs [package-name]
```

ğŸ‘† å®ƒæ˜¯æ ¹æ®é¡¹ç›®ä¸­çš„ `package.json` æ–‡ä»¶ä¸­ï¼Œè®¾ç½®çš„`bugs`å±æ€§ï¼Œæ¥æ‰“å¼€å¯¹åº”çš„ urlã€‚

![](https://raw.githubusercontent.com/wangrongding/image-house/master/images202202280006612.png)

## æŸ¥çœ‹æŸä¸ªåŒ…çš„è¯¦ç»†ä¿¡æ¯

è¿™ä¸ªå‘½ä»¤æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿå¯ä»¥å¾ˆæ–¹ä¾¿çš„çœ‹åˆ°æŒ‡å®šåŒ…çš„è¯¦ç»†ä¿¡æ¯ï¼Œæ¯”å¦‚æˆ‘ä»¬æƒ³æ‰¾åˆ°åŒ…çš„ä½œè€…ä»¥åŠ ta çš„è”ç³»æ–¹å¼ï¼ˆäº¤æµå­¦ä¹ ï¼‰ã€‚

```sh
npm v [package-name]
# or
npm view [package-name]
npm info [package-name]
npm show [package-name]
```

![](https://raw.githubusercontent.com/wangrongding/image-house/master/images202202281750075.png)

## æŸ¥çœ‹æŸä¸ªåŒ…çš„æ‰€æœ‰å†å²ç‰ˆæœ¬

```sh
npm v [package-name] versions
```

![](https://raw.githubusercontent.com/wangrongding/image-house/master/images202202281748905.png)

## æœ¬åœ°å¼€å‘çš„ npm åŒ…å¦‚ä½•è°ƒè¯•

æˆ‘ä»¬å¯ä»¥åƒå¾€å¸¸ä¸€æ ·å°†æœ¬åœ°å¼€å‘çš„ npm åŒ…å®‰è£…åˆ°å…¨å±€æˆ–æŒ‡å®šç›®å½•ã€‚

```sh
npm install . -g
```

```sh
# åœ¨æŸä¸ªé¡¹ç›®ä¸­å®‰è£…æœ¬åœ°åŒ…
npm install ../Path/xxPackageName
```

ä¹Ÿå¯ä»¥åšä¸€ä¸ªè½¯é“¾æŒ‡å‘å½“å‰éœ€è¦è°ƒè¯•çš„é¡¹ç›®(å…¨å±€)

```sh
npm link
```

å°†è°ƒè¯•åŒ…é“¾æ¥åˆ°å½“å‰é¡¹ç›®ä¸­ï¼ˆå…ˆåšä¸€ä¸ªè½¯é“¾æŒ‡å‘å½“å‰éœ€è¦è°ƒè¯•çš„é¡¹ç›®ï¼‰

```sh
# å…ˆåœ¨æœ¬åœ°å¼€å‘çš„ npm åŒ…ä¸­æ‰§è¡ŒğŸ‘‡
npm link
# ç„¶ååˆ‡æ¢åˆ°ä½ è¦å®‰è£…æœ¬åœ°è°ƒè¯•åŒ…çš„é¡¹ç›®ä¸­ï¼Œæ‰§è¡ŒğŸ‘‡ï¼Œå³å¯å°†æœ¬åœ°åŒ…å®‰è£…åˆ°é¡¹ç›®ä¾èµ–ä¸­
npm link <package-name>

# é¡¹ç›®ä¸­å–æ¶ˆå®‰è£…æœ¬åœ°çš„è°ƒè¯•åŒ…ğŸ‘‡
npm unlink <package-name>
```

## npm å‘å¸ƒåŒ…

é¦–å…ˆï¼Œä½ å¾—åœ¨æœ¬åœ°ç™»å½•ï¼ˆä¸ä¼šçš„çœ‹æ–‡ç« æœ€å¼€å¤´çš„ç™»å½•æ–¹æ³• ğŸ‘†ï¼‰

ç™»å½•å®Œæˆåï¼Œå‘å¸ƒè‡ªå·±å¼€å‘çš„å·¥å…·åŒ…ï¼Œåªéœ€ç®€å•çš„ä¸‰æ­¥ï¼

> **æ³¨æ„:ä½¿ç”¨æ·˜å®æºä¼šæŠ¥é”™ï¼Œè¦æ”¹å›é»˜è®¤æº**

è®°å¾—æ¯æ¬¡å‘å¸ƒå‰ï¼Œä¿®æ”¹ä¸‹ç‰ˆæœ¬å·ï¼

```sh
npm version [ç‰ˆæœ¬å·]
```

ç„¶åå½“å‰ç›®å½•æ‰§è¡Œ`npm publish`å°±å¥½äº†

```sh
npm publish
```

## å¼ƒç”¨åŒ…çš„ç›¸å…³æ“ä½œ

> æ³¨æ„ï¼šå¼ºçƒˆå»ºè®®å¼ƒç”¨åŒ…æˆ–åŒ…ç‰ˆæœ¬è€Œä¸æ˜¯å–æ¶ˆå‘å¸ƒå®ƒä»¬ï¼Œå› ä¸ºå–æ¶ˆå‘å¸ƒä¼šä»æ³¨å†Œè¡¨ä¸­å®Œå…¨åˆ é™¤ä¸€ä¸ªåŒ…ï¼Œè¿™æ„å‘³ç€ä»»ä½•ä¾èµ–å®ƒçš„äººéƒ½å°†æ— æ³•å†ä½¿ç”¨å®ƒï¼Œè€Œä¸ä¼šå‘å‡ºè­¦å‘Šã€‚

å¼ƒç”¨æ•´ä¸ªåŒ…

```sh
npm deprecate package-name "å¼ƒç”¨ä¿¡æ¯"
```

å¼ƒç”¨åŒ…çš„å•ä¸ªç‰ˆæœ¬

```sh
npm deprecate package-name@version "å¼ƒç”¨ä¿¡æ¯"
```

å–æ¶ˆå¼ƒç”¨æ“ä½œ

```sh
# å°†å¼ƒç”¨æ¶ˆæ¯æ”¹ä¸ºç©ºå­—ç¬¦ä¸²å³å¯
npm deprecate package-name ""

```

å–æ¶ˆå‘å¸ƒï¼ˆå±é™©æ“ä½œï¼‰\*

å–æ¶ˆå‘å¸ƒæ•´ä¸ªåŒ…

```sh
npm unpublish [package-name] -f
```

å–æ¶ˆå‘å¸ƒåŒ…çš„æŒ‡å®šç‰ˆæœ¬

```sh
npm unpublish [package-name]@<version>
```

> å–æ¶ˆå‘å¸ƒåŒ…åï¼Œä»¥ç›¸åŒåç§°é‡æ–°å‘å¸ƒå°†è¢«é˜»æ­¢ 24 å°æ—¶ã€‚å¦‚æœæ‚¨é”™è¯¯åœ°å–æ¶ˆå‘å¸ƒäº†ä¸€ä¸ªåŒ…ï¼Œæˆ‘ä»¬å»ºè®®æ‚¨ä»¥ä¸åŒçš„åç§°å†æ¬¡å‘å¸ƒï¼Œæˆ–è€…å¯¹äºæœªå‘å¸ƒçš„ç‰ˆæœ¬ï¼Œå¢åŠ ç‰ˆæœ¬å·å¹¶å†æ¬¡å‘å¸ƒã€‚

## ä¸€äº›å¥½ç”¨çš„å…¶ä»–æ“ä½œ

åŒ…çš„é‡å‘½å

```sh
# ï¼ˆé‡å‘½ååŒ…çš„å”¯ä¸€æ–¹æ³•æ˜¯ä»¥æ–°åç§°é‡æ–°å‘å¸ƒå®ƒï¼‰
```

æŸ¥çœ‹å½“å‰é¡¹ç›®ä¸­æœ‰å“ªäº›åŒ…è¿‡æ—¶äº†

```sh
npm outdated
```

æŸ¥çœ‹æœ¬åœ°å…¨å±€ç¯å¢ƒçš„åŒ…æœ‰å“ªäº›è¿‡æ—¶äº†

```sh
npm outdated -g --depth=0
```

![](https://raw.githubusercontent.com/wangrongding/image-house/master/images202202241439826.png)

åˆ—å‡º node_modules ä¸­çš„æ‰€æœ‰åŒ…

```sh
ls node_modules
# or
dir node_modules
```

å®¡è®¡é¡¹ç›®ä¸­æ‰€æœ‰åŒ…çš„å®‰å…¨æ¼æ´

```sh
npm audit
# è¿™ä¸ªå‘½ä»¤ä¾èµ– package-lock.json æ–‡ä»¶,æ‰€ä»¥å¦‚æœä½ ç”¨çš„æ˜¯yarnéœ€è¦ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤
yarn audit
```

æ‰§è¡Œåä¼šåˆ—å‡ºæœ‰é—®é¢˜çš„åŒ…

![](https://raw.githubusercontent.com/wangrongding/image-house/master/images202202241510917.png)

| hahh     | hah                     |
| -------- | ----------------------- |
| Critical | éœ€è¦ç«‹å³è§£å†³çš„!         |
| High     | éœ€è¦å°½å¿«è§£å†³!           |
| Moderate | åœ¨æ—¶é—´å…è®¸çš„æƒ…å†µä¸‹è§£å†³  |
| Low      | éšä¾¿ä½ ,ä¸æ…Œä¸ç‡¥ä¸æ€¥ä¸å¿™ |

æŠ¥å‘Šä¸­ä¼šç»™å‡ºå®ƒé—®é¢˜çš„ä¸¥é‡æ€§,ä½ å°±å¯ä»¥æ ¹æ®å…·ä½“æƒ…å†µæ¥è¿›è¡Œç‰ˆæœ¬æ›´æ–°æˆ–æ˜¯è°ƒæ•´ã€‚

```sh
npm token list
```

![](https://raw.githubusercontent.com/wangrongding/image-house/master/images202202241525019.png)

æ£€æµ‹ä¸€ä¸‹å½“å‰é•œåƒæºçš„å»¶è¿Ÿ

```sh
npm ping
```

![](https://raw.githubusercontent.com/wangrongding/image-house/master/images202202281719051.png)

æ£€æµ‹å½“å‰ node å’Œ npm å­˜åœ¨çš„é—®é¢˜ ğŸ‘‡

```sh
npm doctor
```

![](https://raw.githubusercontent.com/wangrongding/image-house/master/images202202281722997.png)
