---
title: é€šè¿‡æ–‡æœ¬ä¸å›¾ç‰‡çš„éšå†™æ¥éšè—ä¿¡æ¯(éå¸¸æœ‰æ„æ€!)
date: 2021-09-18
tags:
  - JavaScript
categories:
  - å‰ç«¯
---

![](https://assets.fedtop.com/picbed/202206122108233.gif)

<!-- more -->

## å‰è¨€

å“ˆå–½å¤§å®¶å¥½~æˆ‘æ˜¯è£é¡¶,é©¬ä¸Šä¸­ç§‹èŠ‚å•¦ ~ å…ˆç¥å¤§å®¶ä¸­ç§‹èŠ‚å¿«ä¹,é˜–å®¶å›¢åœ†,å¹¸ç¦å®‰åº·~

è¿™æ¬¡ä¹‹æ‰€ä»¥ä¼šå‡ºä¸€æœŸç‰ˆæƒä¿æŠ¤çš„å†…å®¹,æ˜¯å› ä¸ºå‰æ®µæ—¶é—´æœ‰ç¾¤å‹è¯´ä»–çš„æ–‡ç« è¢«ç›—äº†,äºæ˜¯å†²ç€å¯¹ç‰ˆæƒä¿æŠ¤æ–¹æ³•çš„å¥½å¥‡,å°±æœ‰äº†è¿™ç¯‡æ–‡ç«  ~

ç‰ˆæƒä¿æŠ¤æ–¹æ³•æœ‰å¾ˆå¤š:  
è¿™æ¬¡æ–‡ç« ä¸»è¦å’Œå¤§å®¶è®²è®²å¦‚ä½•åœ¨æ–‡æœ¬ä¸å›¾ç‰‡ä¸­éšè—è‡ªå·±çš„ç‰ˆæƒä¿¡æ¯(ä¸‹ä¸€ç¯‡æ–‡ç« ä¼šç»™å¤§å®¶è¯¦ç»†èŠèŠæŠ ä¸æ‰çš„æ°´å°å…ƒç´ )

**æœ¬æ–‡å‚ä¸äº†ä¸­ç§‹æ´»åŠ¨,æ‰€ä»¥æ–‡ä¸­çš„ä¾‹å­ä¸»è¦å›´ç»•ç€ä¸­ç§‹çš„ä¸»é¢˜è¿›è¡Œè®²è§£,å¤§å®¶ç‚¹èµæ”¯æŒä¸€ä¸‹ ~ è°¢è°¢ ~** ğŸ¥°

**çœ‹å®Œæœ¬æ–‡,ä½ å°†å­¦ä¼š ğŸ‘‡**

- **æ–‡æœ¬éšå†™**ï¼šé€šè¿‡æŸç§æ–¹æ³•ç«Ÿç„¶å¯ä»¥åœ¨å­—ç¬¦ä¸²ä¸­è¯»å–å’Œä¿®æ”¹éšè—ä¿¡æ¯"æˆ‘æ˜¯è£é¡¶"â‡„"æˆ‘æ˜¯[å‰åŸ”å¯¨]è£é¡¶",ç‚¹[è¿™é‡Œ](https://wangrongding.github.io/interesting-example/#/text/index)ä½“éªŒ

  ![](https://assets.fedtop.com/picbed/202206122108581.gif)

- **å›¾ç‰‡éšå†™**ï¼šåœ¨å›¾ç‰‡ä¸­æ·»åŠ éšè—çš„å›¾æ–‡(è¿˜èƒ½å¾€é‡Œé¢å†™æ–‡ä»¶!!!)ç‚¹[è¿™é‡Œ](https://wangrongding.github.io/interesting-example/#/enImg/index)ä½“éªŒ

  ![](https://assets.fedtop.com/picbed/202206122108085.gif)

  ![](https://assets.fedtop.com/picbed/202206122109541.gif)

## æ–‡æœ¬éšå†™

**é¦–å…ˆæˆ‘ä»¬éœ€è¦äº†è§£ä¸€ä¸‹,ä»€ä¹ˆæ˜¯éšå†™æœ¯(Steganography)**

> éšå†™æœ¯ï¼šå°†ä¿¡æ¯éšè—åœ¨å¤šç§è½½ä½“ä¸­ï¼Œå¦‚ï¼šè§†é¢‘ã€ç¡¬ç›˜å’Œå›¾åƒï¼Œå°†éœ€è¦éšè—çš„ä¿¡æ¯é€šè¿‡ç‰¹æ®Šçš„æ–¹å¼åµŒå…¥åˆ°è½½ä½“ä¸­ï¼Œè€Œåˆä¸æŸå®³è½½ä½“åŸæ¥ä¿¡æ¯çš„è¡¨è¾¾ã€‚æ—¨åœ¨ä¿æŠ¤éœ€è¦éšè—çš„ä¿¡æ¯ä¸è¢«ä»–äººè¯†åˆ«ã€‚

![](https://assets.fedtop.com/picbed/202206122109722.gif)

å½“ç„¶ä¿¡æ¯éšè”½æŠ€æœ¯è‚¯å®šä¸æ­¢éšå†™æœ¯,å¤§æ¦‚æœ‰ï¼š1ï¼‰éšå†™æœ¯ã€2ï¼‰æ•°å­—æ°´å°ã€3ï¼‰éšè”½ä¿¡é“ã€4ï¼‰é˜€ä¸‹ä¿¡é“ã€5ï¼‰åŒ¿åä¿¡é“ ...

### å®ç°åŸç†

é€šè¿‡å°†å­—ç¬¦ä¸²ä¸­æ¯ä¸ª`å­—ç¬¦`è½¬æ¢ä¸º`åªæœ‰ 1 å’Œ 0 çš„è¡¨ç¤º`,ç„¶åé€šè¿‡`é›¶å®½å­—ç¬¦`è¡¨ç¤º 0 å’Œ 1,å°±èƒ½å®ç°é€šè¿‡é›¶å®½å­—ç¬¦æ¥è¡¨ç¤ºä¸€ä¸²`çœ‹ä¸è§çš„å­—ç¬¦ä¸²`

**é¦–å…ˆæˆ‘ä»¬äº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯é›¶å®½å­—ç¬¦?**

é¡¾åæ€ä¹‰: å°±æ˜¯å­—èŠ‚å®½åº¦ä¸º 0 çš„ç‰¹æ®Šå­—ç¬¦ã€‚ğŸ™„ è¿™è§£é‡Š...é‚£æˆ‘èµ°?

ğŸ˜€ é›¶å®½å­—ç¬¦: æ˜¯ä¸€ç§ä¸å¯æ‰“å°çš„ Unicode å­—ç¬¦, åœ¨æµè§ˆå™¨ç­‰ç¯å¢ƒä¸å¯è§, ä½†æ˜¯çœŸæ˜¯å­˜åœ¨, è·å–å­—ç¬¦ä¸²é•¿åº¦æ—¶ä¹Ÿä¼šå ä½ç½®, è¡¨ç¤ºæŸä¸€ç§æ§åˆ¶åŠŸèƒ½çš„å­—ç¬¦.

> **é›¶å®½å­—ç¬¦ä¸»è¦æœ‰ä»¥ä¸‹å…­ç§:**
>
> - é›¶å®½åº¦ç©ºæ ¼ç¬¦ (zero-width space) U+200B : ç”¨äºè¾ƒé•¿å•è¯çš„æ¢è¡Œåˆ†éš”
> - é›¶å®½åº¦éæ–­ç©ºæ ¼ç¬¦ (zero width no-break space) U+FEFF : ç”¨äºé˜»æ­¢ç‰¹å®šä½ç½®çš„æ¢è¡Œåˆ†éš”
> - é›¶å®½åº¦è¿å­—ç¬¦ (zero-width joiner) U+200D : ç”¨äºé˜¿æ‹‰ä¼¯æ–‡ä¸å°åº¦è¯­ç³»ç­‰æ–‡å­—ä¸­ï¼Œä½¿ä¸ä¼šå‘ç”Ÿè¿å­—çš„å­—ç¬¦é—´äº§ç”Ÿè¿å­—æ•ˆæœ
> - é›¶å®½åº¦æ–­å­—ç¬¦ (zero-width non-joiner) U+200C : ç”¨äºé˜¿æ‹‰ä¼¯æ–‡ï¼Œå¾·æ–‡ï¼Œå°åº¦è¯­ç³»ç­‰æ–‡å­—ä¸­ï¼Œé˜»æ­¢ä¼šå‘ç”Ÿè¿å­—çš„å­—ç¬¦é—´çš„è¿å­—æ•ˆæœ
> - å·¦è‡³å³ç¬¦ (left-to-right mark) U+200E : ç”¨äºåœ¨æ··åˆæ–‡å­—æ–¹å‘çš„å¤šç§è¯­è¨€æ–‡æœ¬ä¸­ï¼Œè§„å®šæ’ç‰ˆæ–‡å­—ä¹¦å†™æ–¹å‘ä¸ºå·¦è‡³å³
> - å³è‡³å·¦ç¬¦ (right-to-left mark) U+200F : ç”¨äºåœ¨æ··åˆæ–‡å­—æ–¹å‘çš„å¤šç§è¯­è¨€æ–‡æœ¬ä¸­ï¼Œè§„å®šæ’ç‰ˆæ–‡å­—ä¹¦å†™æ–¹å‘ä¸ºå³è‡³å·¦

è€ƒè™‘åˆ° Unicode ä¸­æœ‰æ‰€è°“çš„`Surrogate Pair`çš„æƒ…å†µ,æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬å¤„ç†å­—ç¬¦ä¸²çš„æ ¸å¿ƒæ–¹æ³•æ˜¯`codePointAt`å’Œ`fromCodePoint`

> `Surrogate Pair`ï¼šæ˜¯ UTF-16 ä¸­ç”¨äºæ‰©å±•å­—ç¬¦è€Œä½¿ç”¨çš„ç¼–ç æ–¹å¼ï¼Œæ˜¯ä¸€ç§é‡‡ç”¨å››ä¸ªå­—èŠ‚(ä¸¤ä¸ª UTF-16 ç¼–ç )æ¥è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ã€‚

> Unicode ç¼–ç å•å…ƒï¼ˆcode pointsï¼‰çš„èŒƒå›´ä» 0 åˆ° 1,114,111ã€‚å¼€å¤´çš„ 128 ä¸ª Unicode ç¼–ç å•å…ƒå’Œ ASCII å­—ç¬¦ç¼–ç ä¸€æ ·ã€‚å¦‚æœæŒ‡å®šçš„ index å°äº 0 æˆ–å¤§äºå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œåˆ™ charCodeAt è¿”å› NaN

ä¾‹å¦‚ï¼šæ±‰å­—â€œğ ®·â€(é"å‰")çš„ç ç‚¹æ˜¯ 0x20BB7ï¼Œè€Œ UTF-16 ç¼–ç ä¸º 0xD842 0xDFB7ï¼ˆåè¿›åˆ¶ä¸º 55362 57271ï¼‰ï¼Œéœ€è¦ 4 ä¸ªå­—èŠ‚å‚¨å­˜ã€‚å¯¹äºè¿™ç§ 4 ä¸ªå­—èŠ‚çš„å­—ç¬¦ï¼ŒJavaScript ä¸èƒ½æ­£ç¡®å¤„ç†ï¼Œå­—ç¬¦ä¸²é•¿åº¦ä¼šè¯¯åˆ¤ä¸º 2ï¼Œ`"ğ ®·".length // 2` è€Œä¸” charAt()æ–¹æ³•æ— æ³•è¯»å–æ•´ä¸ªå­—ç¬¦ï¼ŒcharCodeAt()æ–¹æ³•åªèƒ½åˆ†åˆ«è¿”å›å‰ä¸¤ä¸ªå­—èŠ‚å’Œåä¸¤ä¸ªå­—èŠ‚çš„å€¼ã€‚ ES6 æä¾›äº† codePointAt()æ–¹æ³•ï¼Œèƒ½å¤Ÿæ­£ç¡®å¤„ç† 4 ä¸ªå­—èŠ‚å‚¨å­˜çš„å­—ç¬¦ï¼Œè¿”å›ä¸€ä¸ªå­—ç¬¦çš„ç ç‚¹ã€‚

```js
//ä¸€ä¸ªå­—ç¬¦ç”±ä¸¤ä¸ªå­—èŠ‚è¿˜æ˜¯ç”±å››ä¸ªå­—èŠ‚ç»„æˆçš„æœ€ç®€å•æ–¹æ³•ã€‚
'æˆ‘'.codePointAt(0) > 0xffff //false
'A'.codePointAt(0) > 0xffff //false
'3'.codePointAt(0) > 0xffff //false

'ğ ®·'.codePointAt(0) > 0xffff //true
```

```js
console.log(String.fromCodePoint(0x20bb7)) // "ğ ®·"
//æˆ–è€…åè¿›åˆ¶
console.log(String.fromCodePoint(134071)) // "ğ ®·"
//ä¹Ÿå¯ä»¥å¤šä¸ªå‚æ•°
console.log(String.fromCodePoint(25105, 29233, 0x4f60)) // "æˆ‘çˆ±ä½ "
```

`String.fromCodePoint` æ–¹æ³•æ˜¯ ES6 æ–°å¢åŠ çš„ç‰¹æ€§ï¼ŒES6 æä¾›äº† String.fromCodePoint()æ–¹æ³•ï¼Œå¯ä»¥è¯†åˆ«å¤§äº 0xFFFF çš„å­—ç¬¦ï¼Œå¼¥è¡¥äº† String.fromCharCode()æ–¹æ³•çš„ä¸è¶³ã€‚ä¸€äº›è€çš„æµè§ˆå™¨å¯èƒ½è¿˜ä¸æ”¯æŒã€‚å¯ä»¥é€šè¿‡ä½¿ç”¨è¿™æ®µ [polyfill](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/fromCodePoint#polyfill) ä»£ç æ¥ä¿è¯æµè§ˆå™¨çš„æ”¯æŒ

**å½“ç„¶,å¦‚æœä¸éœ€è¦å¤„ç†å¤æ‚çš„å­—ç¬¦,ä½ ä¹Ÿå¯ä»¥ç”¨`charCodeAt`å’Œ`fromCharCode`ä¸¤ä¸ªæ–¹æ³•æ¥å¯¹å­—ç¬¦è¿›è¡Œå¤„ç†**

### å¥½äº†,é“ºå«å®Œäº†,å¼€å¹²~

**å…ˆè¯´åŠ å¯†**

æˆ‘ä»¬å°†æ–‡æœ¬é€šè¿‡`codePointAt()` æ–¹æ³•å¾—å‡ºæ¯ä¸ªå­—ç¬¦çš„`Unicodeç¼–ç ç‚¹`å€¼,ç„¶åå°†å®ƒä»¬è½¬ä¸º`2è¿›åˆ¶`,æ¯ä¸ªå­—ç¬¦é—´é€šè¿‡`ç©ºæ ¼`åˆ†éš”å¼€,ç„¶åæˆ‘ä»¬ç”¨`é›¶å®½å­—ç¬¦&#8203`æ¥è¡¨ç¤º`1`,ç”¨`é›¶å®½å­—ç¬¦&#8204`æ¥è¡¨ç¤º`0`,ç”¨`é›¶å®½å­—ç¬¦&#8205`æ¥è¡¨ç¤º`ç©ºæ ¼`,è¿™æ ·å°±å¯ä»¥å¾—åˆ°ä¸€æ®µå®Œå…¨ç”¨é›¶å®½å­—ç¬¦è¡¨ç¤ºçš„`çœ‹ä¸è§çš„å­—ç¬¦ä¸²`

**å¤šäº†ä¸è¯´,å°‘äº†ä¸å”  ~ å…ˆçœ‹ä»£ç !**

```js
// å­—ç¬¦ä¸²è½¬é›¶å®½å­—ç¬¦ä¸²
function encodeStr(val = 'éšè—çš„æ–‡å­—') {
  return val
    .split('')
    .map((char) => char.codePointAt(0).toString(2))
    .join(' ')
    .split('')
    .map((binaryNum) => {
      if (binaryNum === '1') {
        return 'â€‹' // é›¶å®½ç©ºæ ¼ç¬¦&#8203;
      } else if (binaryNum === '0') {
        return 'â€Œ' // é›¶å®½ä¸è¿å­—ç¬¦&#8204;
      } else {
        return 'â€' //ç©ºæ ¼ -> é›¶å®½è¿å­—ç¬¦&#8205;
      }
    })
    .join('â€')
}
console.log('str:', encodeStr(), 'length:', encodeStr().length) //å¤§å®¶å¯ä»¥æŠŠè¿™æ®µcopyåˆ°æ§åˆ¶å°æ‰§è¡Œä»¥ä¸‹çœ‹çœ‹
```

![](https://assets.fedtop.com/picbed/202206122109859.gif)

è¿™ä¸€å—ä¸€å¼€å§‹`return`å‡ºå»çš„éƒ½æ˜¯ç›´æ¥å†™åœ¨åŒå¼•å·ä¸­çš„é›¶å®½å­—ç¬¦,ä½†æ˜¯ä½ ä»¬å¤åˆ¶åˆ°æµè§ˆå™¨ä¸­ä¼°è®¡ä¹Ÿä¸æ–¹ä¾¿çœ‹,åæ­£å®ƒæ˜¯çœ‹ä¸åˆ°çš„,å¹³å°è¦æ˜¯ç»™æˆ‘è¿‡æ»¤äº†,é‚£æ›´å°´å°¬

**æƒ³åœ¨ `vscode`æˆ–è€…`atom` ä¸­çœ‹åˆ°ä»£ç é‡Œæ˜¯å¦æœ‰`é›¶å®½å­—ç¬¦`,å¯ä»¥[ä¸‹è½½](https://marketplace.visualstudio.com/items?itemName=wengerk.highlight-bad-chars)`Highlight Bad Chars`æ’ä»¶æ¥å®ç°é›¶å®½å­—ç¬¦çš„é«˜äº®(å¦‚ä¸Šå›¾æ‰€ç¤º)**

ä¸ºäº†æ–¹ä¾¿å¤§å®¶å®¹æ˜“åŒºåˆ†ç©ºå­—ç¬¦ä¸²ä¸é›¶å®½å­—ç¬¦,è¿™é‡Œæˆ‘æŠŠä»£ç æ”¹äº†ä¸€ä¸‹(è¿™é‡Œæ˜¯ç”¨ vue åšçš„,ä»¥åæˆ‘çš„æ‰€æœ‰ä¾‹å­éƒ½ä¼šåœ¨[è¿™ä¸ªä»“åº“](https://github.com/wangrongding/interesting-example)ä¸‹å½“ç„¶å®ƒä¹Ÿæœ‰çº¿ä¸Šçš„[ä½“éªŒåœ°å€](https://wangrongding.github.io/interesting-example/#/home),æ¬¢è¿å¤§å®¶æ¥æŒ‡ç‚¹~)

```js

// å­—ç¬¦ä¸²è½¬é›¶å®½å­—ç¬¦ä¸²
encodeStr() {
    this.cipherText = this.text.split("");
    //åœ¨å­—ç¬¦ä¸²ä¸­çš„éšæœºä¸€ä¸ªä½ç½®æ’å…¥åŠ å¯†æ–‡æœ¬
    this.cipherText.splice(
        parseInt(Math.random() * (this.text.length + 1)),
        0,
        //åŠ å¯†çš„æ–‡æœ¬
        this.hiddenText
            .split("")
            //['è£', 'é¡¶' ]
            .map((char) => char.codePointAt(0).toString(2))
            // ['1000001101100011','1001100001110110']
            .join(" ")
            //"1000001101100011 1001100001110110"
            .split("")
            /* [ '1', '0', '0', '0',  '0', '0', '1', '1', '0', '1', '1', '0', '0',  '0', '1', '1', ' ',
                '1', '0', '0', '1', '1',  '0', '0', '0', '0', '1', '1', '1', '0', '1',  '1', '0'] */
            .map((binaryNum) => {
                if (binaryNum === "1") {
                    return String.fromCharCode(8203); // é›¶å®½ç©ºæ ¼ç¬¦&#8203;
                } else if (binaryNum === "0") {
                    return String.fromCharCode(8204); // é›¶å®½ä¸è¿å­—ç¬¦&#8204;
                } else {
                    return String.fromCharCode(8205); //ç©ºæ ¼ -> é›¶å®½è¿å­—ç¬¦&#8205;
                }
            })
            //å¯¹ä¸Šé¢æ‰€æœ‰çš„æ•°ç»„å…ƒç´ è¿›è¡Œå¤„ç†,ç”Ÿæˆä¸€ä¸ªæ–°çš„æ•°ç»„['â€‹', 'â€‹', 'â€Œ'......]å…¶ä¸­æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯é›¶å®½å­—ç¬¦,åˆ†åˆ«ä»£è¡¨0å’Œ1ä»¥åŠ
            .join(String.fromCharCode(8206))
        // ç”¨å·¦è‡³å³ç¬¦&#8206;æ¥æŠŠä¸Šé¢çš„æ•°ç»„ç›¸è¿æˆä¸€ä¸ªé›¶å®½å­—ç¬¦ä¸²=>"â€â€‹â€â€Œâ€â€Œ"
    );
    this.cipherText = this.cipherText.join("");
    console.log(this.cipherText, "cipherText");
}
```

å…¶ä¸­éšæœºæ··å…¥é›¶å®½å­—ç¬¦ä¸²ä¸»è¦æ˜¯è¿™æ®µä¼ªä»£ç 

```js
let str = 'qwe12345789'.split('')
//åœ¨å­—ç¬¦ä¸²ä¸­çš„éšæœºä¸€ä¸ªä½ç½®æ’å…¥åŠ å¯†æ–‡æœ¬
str.splice(parseInt(Math.random() * (str.length + 1)), 0, 'åŠ å¯†æ–‡æœ¬').join('')
```

åŠ å¯†åçš„æ–‡æœ¬é€šè¿‡ trim æˆ–è€…é€šè¿‡ç½‘ç»œå‘é€éƒ½æ˜¯æ²¡é—®é¢˜çš„

```js
'ä¸­ç§‹èŠ‚å¿«ä¹â€‹â€â€‹â€â€Œâ€â€‹â€â€‹â€â€Œâ€â€Œâ€â€Œâ€â€Œâ€â€‹â€â€‹â€â€‹â€â€Œâ€â€Œâ€â€Œâ€â€â€â€‹â€â€‹â€â€Œâ€â€Œâ€â€‹â€â€Œâ€â€‹â€â€‹â€â€‹â€â€‹â€â€Œâ€â€Œâ€â€Œâ€â€Œâ€â€Œâ€â€â€â€‹â€â€Œâ€â€Œâ€â€Œâ€â€Œâ€â€‹â€â€Œâ€â€â€â€‹â€â€‹â€â€‹â€â€Œâ€â€‹â€â€Œâ€â€‹â€â€â€â€‹â€â€‹â€â€Œâ€â€Œâ€â€‹â€â€‹â€â€‹'.trim()
  .length //114
```

![](https://assets.fedtop.com/picbed/202206122109722.gif)

**å¤§å®¶éƒ½äº†è§£å¦‚ä½•åŠ å¯†å,æˆ‘ä»¬å†çœ‹ä»¥ä¸‹å¦‚ä½•å¯¹å­—ç¬¦ä¸²è¿›è¡Œè§£å¯†**

è§£å¯†é¦–å…ˆéœ€è¦äº†è§£å¦‚ä½•æå–é›¶å®½åº¦å­—ç¬¦

```JavaScript
"ç‚¹èµé¼“åŠ±~ğŸ˜€â€‹â€â€‹â€â€‹â€â€Œâ€â€Œâ€â€‹â€â€Œâ€â€Œâ€â€‹â€â€Œâ€â€Œâ€â€‹â€â€Œâ€â€Œâ€â€Œâ€â€â€â€‹â€â€‹â€â€Œâ€â€Œâ€â€‹â€â€‹â€â€‹â€â€Œâ€â€‹â€â€Œâ€â€Œâ€â€Œâ€â€Œâ€â€‹â€â€‹â€â€â€â€‹â€â€Œâ€â€Œâ€â€‹â€â€‹â€â€‹â€â€‹â€â€‹â€â€‹â€â€‹â€â€Œâ€â€Œâ€â€Œâ€â€Œâ€â€‹â€â€â€â€‹â€â€‹â€â€Œâ€â€Œâ€â€Œâ€â€Œâ€â€Œâ€â€Œâ€â€‹â€â€‹â€â€Œâ€â€‹â€â€‹â€â€‹â€â€‹â€â€â€â€‹â€â€‹â€â€Œâ€â€‹â€â€‹â€â€Œâ€â€Œâ€â€Œâ€â€Œâ€â€Œâ€â€‹â€â€‹â€â€‹â€â€‹â€â€Œâ€â€‹â€â€â€â€‹â€â€‹â€â€Œâ€â€‹â€â€‹â€â€‹â€â€‹â€â€Œâ€â€Œâ€â€Œâ€â€Œâ€â€Œâ€â€Œâ€â€Œâ€â€Œâ€â€Œ".replace(/[^\u200b-\u200f\uFEFF\u202a-\u202e]/g, "");
```

è§£å¯†çš„è¿‡ç¨‹å°±æ˜¯åŠ å¯†çš„åå‘æ“ä½œ,æˆ‘ä»¬å…ˆæå–æ–‡æœ¬ä¸­çš„é›¶å®½å­—ç¬¦ä¸²,ç”¨ `1`æ¥è¡¨ç¤º`é›¶å®½å­—ç¬¦&#8203`,ç”¨`0`æ¥è¡¨ç¤º`é›¶å®½å­—ç¬¦&#8204`,ç”¨`ç©ºæ ¼`æ¥è¡¨ç¤º`é›¶å®½å­—ç¬¦&#8205`,è¿™æ ·å°±å¯ä»¥å¾—åˆ°ä¸€æ®µç”± 1 å’Œ 0 ç»„æˆç©ºæ ¼åˆ†éš”çš„å­—ç¬¦ä¸²,æˆ‘ä»¬å°†æ¯æ®µ 1/0 è¡¨ç¤ºçš„å­—ç¬¦ä¸²è½¬æˆåè¿›åˆ¶å,é€šè¿‡`String.fromCharCode`æ–¹æ³•å°†å…¶è½¬å›ä¸ºå¯ä»¥çœ‹å¾—è§çš„æ–‡å­—å³å¯~

```js
// é›¶å®½å­—ç¬¦è½¬å­—ç¬¦ä¸²
decodeStr() {
    if (!this.tempText) {
        this.decodeText = "";
        return;
    }
    let text = this.tempText.replace(/[\u200b-\u200f\uFEFF\u202a-\u202e]/g, "");
    let hiddenText = this.tempText.replace(/[^\u200b-\u200f\uFEFF\u202a-\u202e]/g, "");
    console.log(text, "text");
    console.log(hiddenText, "hiddenText");
    this.decodeText = hiddenText
        .split("â€") //ä¸æ˜¯ç©ºå­—ç¬¦ä¸²,æ˜¯ &#8206;
        .map((char) => {
            if (char === "â€‹" /* ä¸æ˜¯ç©ºå­—ç¬¦ä¸²,æ˜¯&#8203; */) {
                return "1";
            } else if (char === "â€Œ" /*  ä¸æ˜¯ç©ºå­—ç¬¦ä¸²,æ˜¯&#8204; */) {
                return "0";
            } else {
                /* æ˜¯&#8205;æ—¶,ç”¨ç©ºæ ¼æ›¿æ¢ */
                return " ";
            }
        })
        .join("")
        //è½¬æ•°ç»„
        .split(" ")
        //æ ¹æ®æŒ‡å®šçš„ Unicode ç¼–ç ä¸­çš„åºå·å€¼æ¥è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚
        .map((binaryNum) => String.fromCharCode(parseInt(binaryNum, 2)))
        .join("");
    console.log(text + hiddenText);
},
```

### æ¼”ç¤ºä¸€æ³¢

**æ ¸å¿ƒå®ç°æ–¹æ³•å°±æ˜¯ä»¥ä¸Š,ç°åœ¨æˆ‘ä»¬æ¥æ¼”ç¤ºä¸€ä¸‹,å¤§å®¶çœ‹å›¾å‰,é¦–å…ˆå¯ä»¥æŠŠè¿™å°æ®µæ–‡å­—å¤åˆ¶åˆ°ä»»ä½•åœ°æ–¹æ‰“å°ä¸‹**(å°± F12 æ§åˆ¶å°çœ‹æœ€æ–¹ä¾¿)`console.log("ä¸­ç§‹å¿«ä¹123456â€‹â€â€‹â€â€‹â€â€Œâ€â€Œâ€â€‹â€â€Œâ€â€Œâ€â€‹â€â€Œâ€â€Œâ€â€‹â€â€Œâ€â€Œâ€â€Œâ€â€â€â€‹â€â€‹â€â€Œâ€â€Œâ€â€‹â€â€‹â€â€‹â€â€Œâ€â€‹â€â€Œâ€â€Œâ€â€Œâ€â€Œâ€â€‹â€â€‹â€â€â€â€‹â€â€Œâ€â€Œâ€â€‹â€â€‹â€â€‹â€â€‹â€â€‹â€â€‹â€â€‹â€â€Œâ€â€Œâ€â€Œâ€â€Œâ€â€‹â€â€â€â€‹â€â€‹â€â€Œâ€â€Œâ€â€Œâ€â€Œâ€â€Œâ€â€Œâ€â€‹â€â€‹â€â€Œâ€â€‹â€â€‹â€â€‹â€â€‹â€â€â€â€‹â€â€‹â€â€Œâ€â€‹â€â€‹â€â€Œâ€â€Œâ€â€Œâ€â€Œâ€â€Œâ€â€‹â€â€‹â€â€‹â€â€‹â€â€Œâ€â€‹â€â€â€â€‹â€â€‹â€â€Œâ€â€‹â€â€‹â€â€‹â€â€‹â€â€Œâ€â€Œâ€â€Œâ€â€Œâ€â€Œâ€â€Œâ€â€Œâ€â€Œâ€â€Œ".length)`é•¿åº¦ä¸€å®šä¸æ˜¯ 10ğŸ˜€

![](https://assets.fedtop.com/picbed/202206122110195.gif)

è¿™é‡Œçš„ demo æˆ‘å·²ç»ä¸Šä¼ è‡³æˆ‘çš„ github,ä½ å¯ä»¥ç‚¹å‡»[è¿™é‡Œ](https://wangrongding.github.io/interesting-example/#/text/index)ä½“éªŒä¸€ä¸‹~

### åº”ç”¨åœºæ™¯

- æ•°æ®é˜²çˆ¬  
  å°†é›¶å®½åº¦å­—ç¬¦æ’å…¥æ–‡æœ¬ä¸­,å¹²æ‰°å…³é”®å­—åŒ¹é…ã€‚çˆ¬è™«å¾—åˆ°çš„å¸¦æœ‰é›¶å®½åº¦å­—ç¬¦çš„æ•°æ®ä¼šå½±å“ä»–ä»¬çš„åˆ†æï¼Œä½†ä¸ä¼šå½±å“ç”¨æˆ·çš„é˜…è¯»æ•°æ®ã€‚
- éšè—æ–‡æœ¬ä¿¡æ¯  
  å°†è‡ªå®šä¹‰ç»„åˆçš„é›¶å®½åº¦å­—ç¬¦æ’å…¥æ–‡æœ¬ä¸­ï¼Œç”¨æˆ·å¤åˆ¶åä¼šæºå¸¦ä¸å¯è§ä¿¡æ¯ï¼Œè¾¾åˆ°éšè—æ–‡æœ¬ä¿¡æ¯çš„ä½œç”¨ã€‚
- é€ƒè„±æ•æ„Ÿè¯è¿‡æ»¤  
  ä½ åœ¨æ¸¸æˆé‡Œéª‚äºº,`ä½ å¦ˆ*`è‚¯å®šæ˜¯å‘ä¸å‡ºå»çš„,ä½†æ˜¯ä½ å‘`ä½ xxxxxå¦ˆyyyyy*`å°±ä¸ä¸€æ ·äº† ğŸ˜€,è¿™ä¸ªä¸œè¥¿è¿˜æ˜¯ç ”ç©¶èµ·æ¥å¾ˆæœ‰æ„æ€çš„ã€‚
- åµŒå…¥éšè—çš„ä»£ç è¿˜æœ‰å¾ˆå¤šç­‰ç­‰ç­‰...

**è¯•æƒ³å½“åœ¨ç”µå­ä¹¦ç± PDF æˆ–è€…ä¸€äº›æ­£ç‰ˆå½±è§†éŸ³ä¹ä½œå“ä¸­åµŒå…¥è´­ä¹°äººçš„ä¸ªäººä¿¡æ¯,é‚£è¿˜æœ‰å¤šå°‘äººæ•¢ç›´æ¥ä¼ ç»™åˆ«äººçœ‹å‘¢?**

**åƒä¸‹é¢è¿™ç§æ˜æ°´å°,åŠ äº†å’Œæ²¡åŠ æ²¡å•¥åŒºåˆ«,å¾ˆå®¹æ˜“å°±è¢«åˆ«äººæ‰£æ‰äº†**

![](https://assets.fedtop.com/picbed/202206122111571.png)

**è€Œä¸”è¿˜è¢«åˆ«äººæ›´æ¢äº†æ°´å°,æ‰“ä¸Šäº†å¹¿å‘Š,å•§å•§å•§...å¦‚æœä¸€æœ¬ç”µå­ä¹¦é‡ŒåµŒå…¥äº†å¤§é‡çš„éšå†™å†…å®¹,å¯¹äºç›—ç‰ˆçš„ä¼ æ’­è¡Œä¸º,å…¶å®æ˜¯å¯ä»¥èµ·åˆ°å¾ˆå¥½çš„è¿½è´£ä½œç”¨çš„(å„å¤§å‡ºç‰ˆå•†,ç”µå­ä¹¦å¯ä»¥æèµ·æ¥ ğŸ˜€ ä¹°ç”µå­ä¹¦éƒ½æœ‰è´­ä¹°è€…çš„è”ç³»æ–¹å¼å’Œä¸ªäººä¿¡æ¯çš„)**

![](https://assets.fedtop.com/picbed/202206122111025.png)

è¯¸å¦‚åƒ toG çš„é¡¹ç›®ä¸­,æœ‰å¾ˆå¤šæ•æ„Ÿå†…å®¹éƒ½æ˜¯æœ‰ä¸ªäººä¿¡æ¯çš„æ˜æ°´å°,å’Œéšå†™çš„ä¸ªäººä¿¡æ¯,ä¼ å‡ºå»äº†å°±çŸ¥é“æ˜¯è°ä¼ çš„ (è‡³å°‘**å¯¹äºä¸æ‡‚æŠ€æœ¯çš„äººæ¥è¯´,éšå†™æ˜¯çœŸçš„å¾ˆéš¾è¢«å‘ç°çš„**)

### é¢„é˜²é›¶å®½å­—ç¬¦çš„æ¤å…¥

è¯´äº†è¿™ä¹ˆå¤šå¦‚ä½•å¯¹å­—ç¬¦è¿›è¡Œé›¶å®½å­—ç¬¦çš„æ¤å…¥å’Œæå–,é‚£ä¹ˆåƒæ˜é‡‘å“ªå¤©ä¸å…è®¸ä½ ä»¬åŠ è¿™ç©æ„åœ¨é‡Œé¢äº†,ä»–ä»¬å¯¹æ‰€æœ‰çš„æ–‡æœ¬ç”¨æ­£åˆ™è¿™ä¹ˆæä¸€éå°±æ²¡äº†

**é¢„é˜²ç”¨æˆ·ä¸Šä¼ çš„æ–‡æœ¬ä¸­å«æœ‰é›¶å®½å­—ç¬¦,ä¸€èˆ¬æˆ‘ä»¬å…ˆåšä¸€æ¬¡æ›¿æ¢å³å¯**

```JavaScript
str.replace(/[\u200b-\u200f\uFEFF\u202a-\u202e]/g, "");
```

## å›¾ç‰‡éšå†™

ä»€ä¹ˆæ˜¯å›¾ç‰‡éšå†™?  
lsb éšå†™å¾ˆå®ç”¨ï¼Œç®—æ³•ç®€å•ï¼Œèƒ½å­˜å‚¨çš„ä¿¡æ¯é‡ä¹Ÿå¤§ï¼Œæ›´ä½•å†µæ˜¯ CTF æ¯”èµ›ä¸­çš„å¸¸å®¢(èµ·æºäº 1996 å¹´ DEFCON å…¨çƒé»‘å®¢å¤§ä¼š)

### å®ç°åŸç†

å›¾ç‰‡çš„éšå†™æœ‰å¾ˆå¤šæ–¹å¼,æˆ‘è¿™é‡Œåªç”¨æœ€ç®€å•çš„æ–¹å¼ **(LSBï¼šäºŒè¿›åˆ¶æœ€ä½ä½,ä¸æ˜¯"è€è‰² X"ğŸ˜…)** åšæ¼”ç¤º,å½“ç„¶ä¹Ÿæ˜¯å› ä¸ºæˆ‘èœ ğŸ˜¥ æ•°å­¦ä¸å¥½,è¦ä¸ç„¶æˆ‘ä¹Ÿå¯ä»¥ç”¨å‚…é‡Œå¶å˜æ¢é€šè¿‡å¤„ç†å›¾ç‰‡çš„è‰²æ³¢ **(å›¾åƒæœ¬è´¨ä¸Šå°±æ˜¯å„ç§è‰²å½©æ³¢çš„å åŠ ** è¿™ä¸ªæ¦‚å¿µçš„å…·ä½“è§£é‡Šå¯ä»¥çœ‹é˜®ä¸€å³°è€å¸ˆçš„[è¿™ç¯‡æ–‡ç« ](https://www.ruanyifeng.com/blog/2017/12/image-and-wave-filters.html) ) æ¥åš,é‚£æ ·åˆå¸…åˆé£˜~å®³!

### äºŒè¿›åˆ¶æœ€ä½ä½

ä»€ä¹ˆæ˜¯äºŒè¿›åˆ¶æœ€ä½ä½?å°±æ˜¯**äºŒè¿›åˆ¶æœ€åé¢ä¸€ä½**

å¥½äº†,å¤šäº†ä¸è¯´å°‘äº†ä¸å”  ~ æˆ‘ä»¬ä¸€èµ·çœ‹å›¾è¯´è¯ ~

![](https://assets.fedtop.com/picbed/202206122111909.png)

![](https://assets.fedtop.com/picbed/202206122111771.png)

![](https://assets.fedtop.com/picbed/202206122112112.png)

æ¯ä¸ªäºŒè¿›åˆ¶çš„å€¼çš„æœ€ä½ä½éƒ½å¯ä»¥è¡¨ç¤ºä¸€ä¸ª 1bit çš„æ•°æ®,ä¸€ä¸ªåƒç´ éœ€è¦ RGBA,4 ä¸ªå€¼å…± 4 \* 8=32 ä¸ª bit æ‰€ä»¥è‡³å°‘éœ€è¦å…«ä¸ªåƒç´  **(32 ä¸ªå€¼)** çš„æœ€ä½ä½æ‰èƒ½è¡¨ç¤ºä¸€ä¸ªåƒç´ çš„ RGBA å€¼ **(è¿™é‡Œçš„ 2560000 / 4 = 640000 ä¸ªåƒç´ å¯ä»¥ç”¨æ¥å‚¨å­˜ 2560000 / 32 = 80000 ä¸ªåƒç´ çš„ RGBA å€¼)**

å³:æ¯ 32 ä¸ªå€¼çš„äºŒè¿›åˆ¶æœ€ä½ä½å¯ä»¥ç”¨æ¥è¡¨ç¤ºä¸€ä¸ªæ ‡å‡†åƒç´ çš„ RGBA å€¼(ä¸ºæ–¹ä¾¿ç†è§£,å¦‚ä¸‹å›¾æ‰€ç¤º ğŸ‘‡)

![](https://assets.fedtop.com/picbed/202206122112608.png)

### æ‹¿åˆ°éœ€è¦éšè—çš„æ•°æ®

è¿™ä¸€æ­¥,æˆ‘ä»¬å¯ä»¥éšè—å›¾ç‰‡,éšè—æ–‡å­—,ä¹Ÿå¯ä»¥è‡ªå·±æ‰‹ç»˜ä¸€äº›ä¸œè¥¿åœ¨ç”»å¸ƒä¸Š  
å°†æˆ‘ä»¬å·²ç»åœ¨ä¸»ç”»å¸ƒä¸Šç»˜åˆ¶æˆ–åŠ è½½çš„å›¾ç‰‡è½¬æ¢ä¸º URL ,é€šè¿‡åˆ›å»ºä¸€ä¸ªä¸´æ—¶å°ç”»å¸ƒ, å°†ä¸»ç”»å¸ƒç”Ÿæˆçš„ URL é€šè¿‡`drawImage`çš„æ–¹å¼,ç¼©å°çš„ç»˜åˆ¶åˆ°ä¸´æ—¶å°ç”»å¸ƒä¸Š

**(è¿™é‡Œä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåš?è¿˜æ˜¯å› ä¸ºä¸Šé¢æåˆ°çš„ ä¸»ç”»å¸ƒçš„ 640000 ä¸ªåƒç´ å€¼çš„æœ€ä½ä½åªèƒ½å‚¨å­˜ 80000 ä¸ªåƒç´ çš„ RGBA å€¼)**

```js
//å°†ç”»å¸ƒä¸Šçš„ä¿¡æ¯ç»˜åˆ¶åˆ°å°ç”»å¸ƒä¸Šä¿å­˜èµ·æ¥
saveHiddenImageData() {
    const tempCanvas = document.createElement("canvas");
    const tempCtx = tempCanvas.getContext("2d");
    //å°ç”»å¸ƒçš„é•¿å®½=å¤§ç”»å¸ƒçš„åƒç´ /8åå†å¼€å¹³æ–¹
    //å› ä¸ºéœ€è¦å…«ä¸ªåƒç´ çš„æœ€ä½ä½æ‰å¯ä»¥è¡¨ç¤ºä¸€ä¸ªå°ç”»å¸ƒçš„åƒç´ çš„RGBAå€¼
    tempCanvas.width = Math.floor(Math.sqrt((this.canvas.width * this.canvas.height) / 8));
    tempCanvas.height = Math.floor(Math.sqrt((this.canvas.width * this.canvas.height) / 8));
    var image = new Image();
    image.src = this.canvas.toDataURL("image/png");
    image.onload = () => {
        //ç»˜åˆ¶å›¾åƒåˆ°ä¸´æ—¶çš„å°ç”»å¸ƒ
        tempCtx.drawImage(image, 0, 0, tempCanvas.width, tempCanvas.height);
        this.hiddenData = tempCtx.getImageData(0, 0, tempCanvas.width, tempCanvas.height);
        this.hiddenData.binaryList = Array.from(this.hiddenData.data, (color) => {
            color = color.toString(2).padStart(8, "0").split("");
            return color;
        });
        console.log(this.hiddenData, "hiddenData");
        this.$message({
            type: "success",
            message: "ä¿å­˜æˆåŠŸ!è¯·é€‰æ‹©ç›®æ ‡å›¾ç‰‡~",
        });
        this.canvas.clear();
    };
},
```

### å†æ‹¿ç›®æ ‡å›¾çš„æ•°æ®

åœ¨æ‹¿ç›®æ ‡å›¾(ä½ è¦æŠŠéšè—çš„æ•°æ®éšå†™è¿›çš„ç›®æ ‡å›¾)çš„æ•°æ®æ—¶å€™,æˆ‘ä»¬éœ€è¦**é¢„å…ˆå¤„ç†**ä¸€ä¸‹æ‰€æœ‰çš„é¢œè‰²å€¼

è¿™ä¸€æ­¥å¾ˆå…³é”®,å¯ä»¥çœ‹åˆ°,æˆ‘ä¸Šé¢çš„å›¾,ç”»å¸ƒåŠ è½½å®Œç›®æ ‡å›¾ç‰‡æ—¶,æˆ‘ä»¬å¯ä»¥é€šè¿‡`getImageData`æ–¹æ³•è¯»å–åˆ°é¡µé¢çš„æ‰€æœ‰åƒç´ å€¼,æˆ‘è¿™é‡Œå°†æ‰€æœ‰åƒç´ çš„äºŒè¿›åˆ¶æœ€ä½ä½å…¨éƒ¨å½’é›¶,å³æŠŠæ‰€æœ‰çš„é¢œè‰²å€¼éƒ½å¤„ç†æˆ**å¶æ•°/éå¥‡éå¶æ•°(0)**

æˆ‘ä»¬é€šè¿‡æ“ä½œæ¯ä¸ªå€¼çš„æœ€ä½ä½,ç”¨æ¥å‚¨è—è¦ä¿å­˜çš„æ•°æ®, **è‚‰çœ¼æ˜¯æ— æ³•çœ‹å‡ºä½ å¯¹æœ€ä½ä½çš„æ›´æ”¹çš„**

```js
//è·å–ç”»å¸ƒåƒç´ æ•°æ®
getCanvasData() {
    this.targetData = this.ctx.getImageData(0, 0, this.canvas.width, this.canvas.height);
    //å°†æ•°å­—åŒ–ä¸ºéå¥‡æ•°
    function evenNum(num) {
        num = num > 254 ? num - 1 : num;
        num = num % 2 == 1 ? num - 1 : num;
        return num;
    }
    //å­˜ä¸€ä¸ªäºŒè¿›åˆ¶çš„æ•°å€¼è¡¨ç¤º
    this.targetData.binaryList = Array.from(this.targetData.data, (color, index) => {
        this.targetData.data[index] = evenNum(this.targetData.data[index]);
        color = evenNum(color).toString(2).padStart(8, "0").split("");
        return color;
    });
    console.log(this.targetData);
    this.loading = false;
},
```

### å†™å…¥éšè—çš„æ•°æ®

åˆ°è¿™é‡Œ,æˆ‘ä»¬å·²ç»æ‹¿åˆ°äº†éšè—çš„æ•°æ®,å’Œç›®æ ‡å›¾åƒçš„æ•°æ®,æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯**å°†è¿™ 318,096 ä¸ªé¢œè‰²å€¼å†™å…¥åˆ°ç›®æ ‡å›¾ç‰‡çš„ 2560000 ä¸ªé¢œè‰²å€¼çš„äºŒè¿›åˆ¶æœ€ä½ä½ä¸­**,å³å¯å®ç°å›¾ç‰‡çš„éšå†™

**å†æ¬¡éœ€è¦æ³¨æ„çš„æ˜¯**:é€šè¿‡æœ€ä½ä½æ¥åšçš„è¯,æˆ‘ä»¬éšå†™åˆ°å›¾ç‰‡ä¸­çš„æ•°æ®æ˜¯æœ‰é™çš„,å³ `å›¾ç‰‡çš„æ•´ä½“åƒç´  / 8 = å›¾ç‰‡ä¸­å¯ä»¥éšè—çš„åƒç´ (ä¸ª)`  
è¿™é‡Œæˆ‘ä»¬ç”¨çš„æ˜¯`800*800`çš„ç”»å¸ƒ,æœ‰`640000`ä¸ªåƒç´ ,å…¶ä¸­å¯ä»¥éšè— `640000 / 8 = 80000ä¸ª`åƒç´   
æ‰€ä»¥æˆ‘ä»¬éšè—çš„æ•°æ®åªèƒ½ç»˜ç”»åˆ° `Math.floor(Math.sqrt((this.canvas.width * this.canvas.height) / 8))`è¿™é‡Œæ˜¯ 282 çš„å®½é«˜çš„ canvas ä¸­(79,524 ä¸ªåƒç´ ,318,096 ä¸ªé¢œè‰²å€¼),è¿™é‡Œæ±‚å‡ºçš„æ•°åªèƒ½å‘ä¸‹å–æ•´,è¦ä¸ç„¶ä¼šæº¢å‡º,å¯¼è‡´ä¸¢å¤±éšè—çš„æ•°æ®!

![](https://assets.fedtop.com/picbed/202206122112299.png)

![](https://assets.fedtop.com/picbed/202206122113026.png)

è¿™é‡Œçš„æ“ä½œå°±åƒæ˜¯æˆ‘ä»¬è—å¤´è¯—ä¸€æ ·,æˆ‘ä»¬æŠŠæ•°æ®è—åœ¨å°¾éƒ¨

![](https://assets.fedtop.com/picbed/202206122113264.png)

**RGB åˆ†é‡å€¼çš„å°é‡å˜åŠ¨ï¼Œæ˜¯è‚‰çœ¼æ— æ³•åˆ†è¾¨çš„ï¼Œä¸å½±å“å¯¹å›¾ç‰‡çš„è¯†åˆ«ã€‚ä½ çœ‹ä¸å‡ºæ¥è¿™ä¸ª+1 çš„åŒºåˆ«**

---

å¤šäº†ä¸è¯´å°‘äº†ä¸å” ~å…ˆçœ‹ä»£ç 

```js
//å°†éšå†™çš„èµ„æºå›¾ç‰‡æ•°æ®å­˜åˆ°ç›®æ ‡å›¾ç‰‡çš„äºŒè¿›åˆ¶æœ€ä½ä½ä¸­
drawHiddenData() {
    //å°†éšè—çš„æ•°æ®çš„äºŒè¿›åˆ¶å…¨éƒ¨æ”¾åˆ°ä¸€ä¸ªæ•°ç»„é‡Œé¢
    let bigHiddenList = [];
    for (let i = 0; i < this.hiddenData.binaryList.length; i++) {
        bigHiddenList.push(...this.hiddenData.binaryList[i]);
    }
    console.log(bigHiddenList, "bigHiddenList");
    this.targetData.binaryList.forEach((item, index) => {
        bigHiddenList[index] && (item[7] = bigHiddenList[index]);
    });
    this.canvas.clear();
    this.targetData.data.forEach((item, index) => {
        this.targetData.data[index] = parseInt(
            this.targetData.binaryList[index].join(""),
            2
        );
    });

    const tempCanvas = document.createElement("canvas");
    tempCanvas.width = 800;
    tempCanvas.height = 800;
    let ctx = tempCanvas.getContext("2d");
    ctx.putImageData(this.targetData, 0, 0);
    fabric.Image.fromURL(tempCanvas.toDataURL(), (i) => {
        this.canvas.clear();
        this.canvas.add(i);
        this.canvas.renderAll();
    });
    this.$message({
        type: "success",
        message: "åŠ å¯†æˆåŠŸ!",
    });
},
```

å¯ä»¥çœ‹åˆ°,è¿™é‡Œå·²ç»å°†ä¸€å¼ å›¾ç‰‡éšè—åˆ°äº†å¦ä¸€å¼ å›¾ç‰‡ä¸­,(æˆ‘ä»¬è¿™é‡Œå°†ä¸€ä¸ªæœˆé¥¼å›¾éšå†™è¿›äº†æœˆäº®å›¾ä¸­)

![](https://assets.fedtop.com/picbed/202206122113297.gif)

### è§£æåŠ å¯†åçš„å›¾ç‰‡

å®Œæˆäº†å›¾ç‰‡åŠ å¯†åæˆ‘ä»¬æ¥ä¸‹æ¥éœ€è¦åšçš„æ˜¯è§£æåŠ å¯†åçš„å›¾ç‰‡

é¦–å…ˆæˆ‘ä»¬é€‰å–æœ¬åœ°å›¾ç‰‡å,å°†å…¶æ¸²æŸ“åˆ°ç”»å¸ƒä¸Š,åœ¨é€šè¿‡`getImageData`è·å¾—ç”»å¸ƒçš„åƒç´ æ•°æ®,å»ºç«‹ä¸€ä¸ªäºŒè¿›åˆ¶çš„å­˜å‚¨è¡¨ç¤º,åé¢å°†é€šè¿‡å®ƒçš„æœ€ä½ä½å–å‡ºéšè—åœ¨ç›®æ ‡å›¾ä¸­çš„å›¾ç‰‡

```
//è·å–ç”»å¸ƒåƒç´ æ•°æ®
    getCanvasData() {
        this.targetData = this.ctx.getImageData(0, 0, this.canvas.width, this.canvas.height);
        //å­˜ä¸€ä¸ªäºŒè¿›åˆ¶çš„æ•°å€¼è¡¨ç¤º
        this.targetData.binaryList = Array.from(this.targetData.data, (color, index) => {
            color = color.toString(2).padStart(8, "0").split("");
            return color;
        });
        console.log(this.targetData);
        this.loading = false;
    },
```

### å†²å›¾ç‰‡ä¸­æŠ½å–éšè—çš„é¢œè‰²å€¼

è¿™é‡Œæˆ‘ä»¬ä¸»è¦å°†ä¸»ç”»å¸ƒçš„äºŒè¿›åˆ¶é¢œè‰²å€¼çš„æœ€ä½ä½æŠ½ç¦»å‡ºæ¥,ç»„è£…æˆéšè—å›¾ç‰‡çš„åƒç´ å€¼æ•°ç»„,æœ€åé€šè¿‡`putImageData`æ¥ç»˜åˆ¶å‡ºéšè—å…¶ä¸­çš„å›¾ç‰‡

**è¿™é‡Œéå¸¸éœ€è¦æ³¨æ„çš„æ˜¯: `putImageData`çš„ç¬¬ä¸€ä¸ªå‚æ•°`data`çš„é•¿åº¦`å¿…é¡»ä¸ºä¸¤ä¸ªè¾¹çš„ä¹˜ç§¯çš„4çš„å€æ•°`** å¦åˆ™å°±ä¼šæŠ¥é”™  
æ‰€ä»¥,è¿™é‡Œæˆ‘ä»¬å–åƒç´ çš„æ—¶å€™,éœ€è¦è¿™ä¹ˆå–`Math.pow(Math.floor(Math.sqrt(2560000 / 32)), 2) * 4`,ç”±äºæˆ‘è¿™é‡Œæ˜¯ 800 _ 800 çš„æ‰€ä»¥æ˜¯ 2560000 ä¸ªå€¼,ä½ ç›´æ¥å†™æˆå˜é‡`canvas.width _ canvas.height \*4`å³å¯

```js
//è§£æå›¾ç‰‡
decryptImage() {
    const c = document.getElementById("decryptCanvas");
    const ctx = c.getContext("2d");

    let decryptImageData = [];

    for (let i = 0; i < this.targetData.binaryList.length; i += 8) {
        let tempColorData = [];
        for (let j = 0; j < 8; j++) {
            tempColorData.push(this.targetData.binaryList[i + j][7]);
        }
        decryptImageData.length < Math.pow(Math.floor(Math.sqrt(2560000 / 32)), 2) * 4 &&
            decryptImageData.push([...tempColorData]);
    }
    decryptImageData = Uint8ClampedArray.from(decryptImageData, (z) => {
        z = parseInt(z.join(""), 2);
        return z;
    });
    console.log(decryptImageData, "decryptImageData");
    //éœ€è¦æ³¨æ„çš„æ˜¯putImageDataçš„dataçš„é•¿åº¦å¿…é¡»ä¸ºä¸¤ä¸ªè¾¹çš„ä¹˜ç§¯çš„4çš„å€æ•°
    ctx.putImageData(
        new ImageData(
            decryptImageData,
            Math.floor(Math.sqrt(2560000 / 8 / 4)),
            Math.floor(Math.sqrt(2560000 / 8 / 4))
        ),
        0,
        0
    );
},
```

ç»è¿‡è¿™ä¸€æ­¥å,æˆ‘ä»¬å¯ä»¥çœ‹åˆ°,å°±èƒ½å¤Ÿä»ä¸»ç”»å¸ƒä¸­æå–å‡ºéšè—åœ¨å…¶ä¸­çš„å›¾ç‰‡!!!

**å“‡ ~ æ˜¯ä¸æ˜¯éå¸¸çš„æœ‰æ„æ€?**

![](https://assets.fedtop.com/picbed/202206122114878.gif)

**è¿˜éœ€è¦æ³¨æ„çš„ç‚¹** ï¼šLSB æ–¹å¼çš„éšå†™å›¾ç‰‡åªèƒ½å­˜å‚¨ä¸º PNG æˆ–è€… BMP å›¾ç‰‡æ ¼å¼ï¼Œå¹¶ä¸”ä¸å¯ä»¥å†ç”¨æœ‰æŸå‹ç¼©ï¼ˆæ¯”å¦‚ JPEGï¼‰ï¼Œå¦åˆ™ä¼šä¸¢å¤±éšå†™çš„æ•°æ®ï¼

**ä¸è¦ç”¨éšå†™åšè¿æ³•çŠ¯ç½ªçš„åäº‹!!!**å› ä¸ºå®ƒæ˜¯å¯ä»¥é˜²ï¼ˆæŸå¢™ï¼‰ç›‘æ§çš„,æ¯”å¦‚ä½ æŠŠåå­©å­å›¾è—è¿›äº†å¥½å­©å­å›¾é‡Œè¾¹,æˆ‘å»å¤ªåäº† ğŸ˜¢

ä½†æ˜¯ä½ èº«ä¸ºç¨‹åºå‘˜,ä½ å¯ä»¥ç”¨å®ƒå»ç»™ä½ å¿ƒçˆ±çš„å®è´è¡¨ç™½æ’’,ä¸å¤±ä¸ºä¸€ç§æµªæ¼«çš„æ–¹å¼~

æ„Ÿå…´è¶£çš„å°ä¼™ä¼´è¿˜å¯ä»¥çœ‹ä¸€ä¸‹è¿™ç¯‡è®ºæ–‡[StegaStamp: Invisible Hyperlinks in Physical Photographs(éšå†™é‚®ç¥¨ï¼šè‡ªç„¶ç…§ç‰‡ä¸­åµŒå…¥ä¸å¯è§è¶…é“¾æ¥)](https://arxiv.org/abs/1904.05343),ä½œè€…æ¥è‡ªåŠ å·å¤§å­¦ä¼¯å…‹åˆ©åˆ†æ ¡ã€‚ä»–ä»¬çš„é¡¹ç›®ä¸»é¡µ[åœ¨è¿™](https://www.matthewtancik.com/stegastamp)

ä»¥ä¸Šæ˜¯æ–‡æœ¬å’Œå›¾ç‰‡çš„éšå†™ç›¸å…³å†…å®¹,å½“ç„¶éšå†™çš„åª’ä»‹ä¸å¯èƒ½åªå±€é™äºæ­¤,è¿˜æœ‰å¾ˆå¤šä¸­,åªè¦æ˜¯è®¡ç®—æœºèƒ½ç”¨æ•°å­—è¡¨è¾¾ä¸€åˆ‡ä¸œè¥¿,æŒ‰é“ç†æ¥è¯´éƒ½æ˜¯å¯ä»¥ç”¨æ¥åšéšå†™çš„,ä¾‹å¦‚[éŸ³é¢‘çš„éšå†™](https://kns.cnki.net/KXReader/Detail?TIMESTAMP=637661997320734302&DBCODE=CJFD&TABLEName=CJFD2012&FileName=DZGS201204006&RESULT=1&SIGN=Nzw4NdjstxDgBHTRogyMRXOqnpA%3d)ï¼Œä»¥åŠ[è§†é¢‘çš„éšå†™](https://kns.cnki.net/KXReader/Detail?TIMESTAMP=637661958755239977&DBCODE=CJFD&TABLEName=CJFD2011&FileName=JSJC201120044&RESULT=1&SIGN=DDmp0hfxaqRrgvnQ05e87a2VZo8%3d)

## æœ€å

éšå†™æœ¯æ˜¯ä¸€é—¨å¾ˆæ·±ã€åº”ç”¨å¾ˆå¹¿æ³›çš„å­¦é—®ï¼Œè¿™é‡Œè®²çš„å¾ˆæ³›ï¼Œæƒå½“åšæŠ›ç –å¼•ç‰ã€‚å›¾ç‰‡å’Œæ–‡å­—çš„éšå†™åªæ˜¯å…¶ä¸­æœ€ç®€å•çš„ä¸€éƒ¨åˆ†ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥çœ‹ä¸€æœ¬å«ã€Šæ•°æ®éšè—æŠ€æœ¯æ­ç§˜ã€‹çš„ä¹¦ã€‚éœ€è¦çš„å°ä¼™ä¼´ä¹Ÿå¯ä»¥åŠ æˆ‘,æˆ‘å‘ç»™ä½ !  
æ–‡ä¸­çš„ä¾‹å­å·²ç»æ”¾åœ¨äº†æˆ‘çš„[github](https://github.com/wangrongding)ä¸­,å½“ç„¶ä½ ä¹Ÿå¯ä»¥é€šè¿‡[è¿™é‡Œ](https://wangrongding.github.io/interesting-example/#/home)ä½“éªŒä¸€ä¸‹

> æˆ‘æ˜¯è£é¡¶ï¼Œå¾ˆé«˜å…´èƒ½åœ¨è¿™é‡Œå’Œä½ ä¸€èµ·å˜å¼ºï¼ä¸€èµ·**é¢å‘å¿«ä¹ç¼–ç¨‹ï¼** ğŸ˜‰
>
> å¦‚æœä½ ä¹Ÿéå¸¸çƒ­çˆ±å‰ç«¯ç›¸å…³æŠ€æœ¯ï¼æ¬¢è¿è¿›å…¥æˆ‘çš„å°å¯†åœˆ~ é‡Œé¢éƒ½æ˜¯å¤§ä½¬ï¼Œ**å¸¦ä½ é£!** ğŸ¦„ ç‚¹å‡» â†’ [è¿™é‡Œ](https://juejin.cn/pin/7004843607072964621)
